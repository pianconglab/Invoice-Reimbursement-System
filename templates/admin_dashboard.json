{
    "page": {
        "title": "管理后台 - 骈聪课题组发票报销系统",
        "layout": "container-fluid",
        "components": [
            {
                "type": "row",
                "style": {
                    "justify-content": "space-between",
                    "align-items": "center",
                    "margin-bottom": "1.5rem"
                },
                "children": [
                    {
                        "type": "col",
                        "children": [
                            {
                                "type": "title",
                                "level": 2,
                                "content": "管理后台",
                                "icon": "bi-speedometer2"
                            }
                        ]
                    },
                    {
                        "type": "col",
                        "children": [
                            {
                                "type": "button",
                                "label": "导出当前筛选结果",
                                "button_type": "success",
                                "icon": "bi-file-earmark-excel",
                                "event": "export_excel"
                            }
                        ]
                    }
                ]
            },
            {
                "type": "card",
                "style": {
                    "margin-bottom": "1.5rem"
                },
                "children": [
                    {
                        "type": "form",
                        "prop": "filterForm",
                        "label_position": "top",
                        "children": [
                            {
                                "type": "row",
                                "gutter": 20,
                                "children": [
                                    {
                                        "type": "col",
                                        "span": 8,
                                        "children": [
                                            {
                                                "type": "form-item",
                                                "label": "购买人",
                                                "prop": "purchaser",
                                                "children": [
                                                    {
                                                        "type": "input",
                                                        "prop": "purchaser",
                                                        "placeholder": "请输入购买人"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "col",
                                        "span": 8,
                                        "children": [
                                            {
                                                "type": "form-item",
                                                "label": "状态",
                                                "prop": "status",
                                                "children": [
                                                    {
                                                        "type": "select",
                                                        "prop": "status",
                                                        "placeholder": "请选择状态",
                                                        "options": [
                                                            {
                                                                "label": "全部状态",
                                                                "value": ""
                                                            },
                                                            {
                                                                "label": "待审批",
                                                                "value": "待审批"
                                                            },
                                                            {
                                                                "label": "报销中",
                                                                "value": "报销中"
                                                            },
                                                            {
                                                                "label": "已报销",
                                                                "value": "已报销"
                                                            },
                                                            {
                                                                "label": "驳回",
                                                                "value": "驳回"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "col",
                                        "span": 8,
                                        "children": [
                                            {
                                                "type": "form-item",
                                                "label": "使用途径",
                                                "prop": "usage",
                                                "children": [
                                                    {
                                                        "type": "select",
                                                        "prop": "usage",
                                                        "placeholder": "请选择使用途径",
                                                        "options": [
                                                            {
                                                                "label": "全部",
                                                                "value": ""
                                                            },
                                                            {
                                                                "label": "个人使用",
                                                                "value": "个人使用"
                                                            },
                                                            {
                                                                "label": "课题组公用",
                                                                "value": "课题组公用"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "type": "row",
                                "gutter": 20,
                                "children": [
                                    {
                                        "type": "col",
                                        "span": 12,
                                        "children": [
                                            {
                                                "type": "form-item",
                                                "label": "购买日期",
                                                "prop": "purchase_date_range",
                                                "children": [
                                                    {
                                                        "type": "date-picker",
                                                        "picker_type": "daterange",
                                                        "prop": "purchase_date_range",
                                                        "start_placeholder": "开始日期",
                                                        "end_placeholder": "结束日期"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "col",
                                        "span": 12,
                                        "children": [
                                            {
                                                "type": "form-item",
                                                "label": "开票日期",
                                                "prop": "invoice_date_range",
                                                "children": [
                                                    {
                                                        "type": "date-picker",
                                                        "picker_type": "daterange",
                                                        "prop": "invoice_date_range",
                                                        "start_placeholder": "开始日期",
                                                        "end_placeholder": "结束日期"
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "type": "form-item",
                                "children": [
                                    {
                                        "type": "button",
                                        "label": "筛选",
                                        "button_type": "primary",
                                        "icon": "bi-search",
                                        "event": "submit"
                                    },
                                    {
                                        "type": "button",
                                        "label": "重置",
                                        "button_type": "default",
                                        "icon": "bi-arrow-clockwise",
                                        "event": "reset"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "type": "card",
                "children": [
                    {
                        "type": "card-header",
                        "children": [
                            {
                                "type": "row",
                                "justify": "space-between",
                                "align": "middle",
                                "children": [
                                    {
                                        "type": "col",
                                        "children": [
                                            {
                                                "type": "text",
                                                "content": "申请列表 (共 {{ total_count }} 条，第 {{ page }} / {{ total_pages }} 页)"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "col",
                                        "children": [
                                            {
                                                "type": "form-item",
                                                "label": "每页显示：",
                                                "label_width": "auto",
                                                "prop": "per_page",
                                                "style": {
                                                    "display": "flex",
                                                    "align-items": "center",
                                                    "margin-bottom": 0
                                                },
                                                "children": [
                                                    {
                                                        "type": "select",
                                                        "prop": "per_page",
                                                        "style": {
                                                            "width": "80px"
                                                        },
                                                        "event": "per_page_change",
                                                        "options": [
                                                            {
                                                                "label": "25",
                                                                "value": 25
                                                            },
                                                            {
                                                                "label": "50",
                                                                "value": 50
                                                            },
                                                            {
                                                                "label": "100",
                                                                "value": 100
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "table",
                        "prop": "applications",
                        "empty_text": "暂无申请记录",
                        "columns": [
                            {
                                "type": "table-column",
                                "prop": "app_number",
                                "label": "申请编号",
                                "width": 120
                            },
                            {
                                "type": "table-column",
                                "prop": "purchaser",
                                "label": "购买人",
                                "sortable": true,
                                "width": 80
                            },
                            {
                                "type": "table-column",
                                "prop": "item_name",
                                "label": "物品名称",
                                "sortable": true,
                                "min_width": 150
                            },
                            {
                                "type": "table-column",
                                "prop": "invoice_number",
                                "label": "发票号码",
                                "sortable": true,
                                "width": 150
                            },
                            {
                                "type": "table-column",
                                "prop": "invoice_amount",
                                "label": "发票金额",
                                "sortable": true,
                                "width": 100,
                                "formatter": "currency"
                            },
                            {
                                "type": "table-column",
                                "prop": "purchase_time",
                                "label": "购买日期",
                                "sortable": true,
                                "width": 120
                            },
                            {
                                "type": "table-column",
                                "prop": "invoice_date",
                                "label": "开票日期",
                                "sortable": true,
                                "width": 120
                            },
                            {
                                "type": "table-column",
                                "prop": "status",
                                "label": "状态",
                                "sortable": true,
                                "width": 100,
                                "children": [
                                    {
                                        "type": "tag",
                                        "prop": "status",
                                        "conditional_style": {
                                            "待审批": {
                                                "type": "warning"
                                            },
                                            "报销中": {
                                                "type": "primary"
                                            },
                                            "已报销": {
                                                "type": "success"
                                            },
                                            "驳回": {
                                                "type": "danger"
                                            }
                                        }
                                    }
                                ]
                            },
                            {
                                "type": "table-column",
                                "label": "操作",
                                "fixed": "right",
                                "width": 160,
                                "children": [
                                    {
                                        "type": "button",
                                        "label": "查看",
                                        "button_type": "primary",
                                        "size": "small",
                                        "style": "outline",
                                        "icon": "bi-eye",
                                        "event": "view_detail"
                                    },
                                    {
                                        "type": "button",
                                        "label": "删除",
                                        "button_type": "danger",
                                        "size": "small",
                                        "style": "outline",
                                        "icon": "bi-trash",
                                        "event": "open_delete_dialog"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "card-footer",
                        "children": [
                            {
                                "type": "pagination",
                                "layout": "prev, pager, next",
                                "total_prop": "total_count",
                                "current_page_prop": "page",
                                "page_size_prop": "per_page",
                                "style": {
                                    "justify-content": "center"
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "type": "dialog",
                "prop": "deleteDialogVisible",
                "title": "确认删除",
                "icon": "bi-exclamation-triangle",
                "width": "500px",
                "children": [
                    {
                        "type": "alert",
                        "title": "警告：此操作将永久删除申请记录及其所有附件，无法恢复！",
                        "alert_type": "warning",
                        "show_icon": true
                    },
                    {
                        "type": "descriptions",
                        "column": 1,
                        "items": [
                            {
                                "label": "申请编号",
                                "prop": "selectedItem.app_number"
                            },
                            {
                                "label": "购买人",
                                "prop": "selectedItem.purchaser"
                            },
                            {
                                "label": "物品名称",
                                "prop": "selectedItem.item_name"
                            }
                        ]
                    },
                    {
                        "type": "text",
                        "content": "确定要删除这条记录吗？"
                    }
                ],
                "footer": [
                    {
                        "type": "button",
                        "label": "取消",
                        "event": "close_dialog"
                    },
                    {
                        "type": "button",
                        "label": "确认删除",
                        "button_type": "danger",
                        "icon": "bi-trash",
                        "event": "confirm_delete"
                    }
                ]
            }
        ]
    }
}